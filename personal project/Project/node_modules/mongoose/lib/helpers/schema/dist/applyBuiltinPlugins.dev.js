'use strict';

var builtinPlugins = require('../../plugins');

module.exports = function applyBuiltinPlugins(schema) {
  for (var _i = 0, _Object$values = Object.values(builtinPlugins); _i < _Object$values.length; _i++) {
    var plugin = _Object$values[_i];
    plugin(schema, {
      deduplicate: true
    });
  }

  schema.plugins = Object.values(builtinPlugins).map(function (fn) {
    return {
      fn: fn,
      opts: {
        deduplicate: true
      }
    };
  }).concat(schema.plugins);
};